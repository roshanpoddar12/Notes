(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[79],{"3Epe":function(e,t,r){"use strict";r.d(t,"c",(function(){return b})),r.d(t,"b",(function(){return g})),r.d(t,"a",(function(){return O}));var n=r("o0o1"),o=r.n(n),a=r("rePB"),p=r("HaE+"),i=r("wSl+"),c=r("E891"),u=r("fNkK"),s=r("MF81");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(e){var t=e.mapName,r="userdata/map/".concat(t);return Object(u.a)({url:"/api/".concat(r),type:"GET"})},x=function(e){var t=e.mapName,r=e.data,n="userdata/map/".concat(t),o={map_key_val:JSON.stringify(r)};return Object(u.a)({url:"/api/".concat(n),type:"POST",contentType:"application/json",processData:!1,data:Object(i.deflate)(JSON.stringify(o),{level:9}),headers:{"Content-Encoding":"deflate"}})},b=function(e,t,r){return function(){var n=Object(p.a)(o.a.mark((function n(p){var i,u,l,b,y;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,p(s.f.saveRequest(d({compId:t.compId},r))),i=Object(s.a)(t),u={timestamp:Date.now(),userdata:JSON.stringify(e)},n.next=6,x({mapName:i,data:u});case 6:return n.next=8,f({mapName:i});case 8:l=n.sent,(b=JSON.parse(l)).userdata=Object(c.a)(b.userdata),y=Object(a.a)({},i,b),p(s.f.saveSuccess(y)),n.next=19;break;case 15:n.prev=15,n.t0=n.catch(0),console.error("saveWidgetUserData error",n.t0),p(s.f.saveFailure());case 19:case"end":return n.stop()}}),n,null,[[0,15]])})));return function(e){return n.apply(this,arguments)}}()},y=function(e){return Object(u.a)({url:"/api/userdata/maps/get_values",type:"POST",data:{maps_keys_json:JSON.stringify({maps:e})}})},g=function(e){return function(){var t=Object(p.a)(o.a.mark((function t(r){var n,a,p,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r(s.f.pending()),e.compIds&&e.compIds.length&&e.userId&&e.authorId&&e.pageId){t.next=5;break}return r(s.f.rejected()),t.abrupt("return");case 5:return n=e.compIds.map((function(t){return{map_name:Object(s.a)(d(d({},e),{},{compId:t})),map_keys:null}})),t.next=8,y(n);case 8:a=t.sent,p=JSON.parse(a),i=Object.keys(p).reduce((function(e,t){var r=p[t];return r&&(r.userdata=Object(c.a)(r.userdata)),e[t]=r,e}),{}),r(s.f.fulfilled(i)),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),console.error("loadAllWidgetsUserData error",t.t0),r(s.f.rejected());case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return Object(u.a)({url:"/api/userdata/map/work_id/".concat(e),type:"GET"})}},"7ZwO":function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return a}));var n=r("zhJZ"),o=function(e,t){return n.c(e,JSON.stringify(t))},a=function(e){return n.a(e)}},MCbV:function(e,t,r){"use strict";var n=r("rePB"),o=r("Ff2n"),a=r("5R4e");function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.a=function(e){return function(t){return function(r){if(!function(e){return!!e&&!!e.error}(r))return t(r);var n=r.error,p=r.errorHook,c=r.errorWhitelist,u=Object(o.a)(r,["error","errorHook","errorWhitelist"]);if(Object(a.a)(r.error,e.dispatch,null,c),p){var s=e.dispatch,l=p(i(i({},u),{},{error:n,dispatch:s}));return l&&t(l),null}return t(r)}}}},QB4V:function(e,t,r){"use strict";t.a=function(e,t){var r=!1;return function t(n){n===e?r=!0:n.parentElement&&t(n.parentElement)}(t),r}},StAi:function(e,t,r){"use strict";var n=r("DmeH"),o=r("7ZwO");t.a=function(){return function(e){return function(t){switch(t.type){case n.b.set.type:Object(o.b)(t.payload.key_id,t.payload.value)}e(t)}}}},SuWi:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("rePB"),o=r("Ff2n");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var i=Symbol("Call API");t.b=function(e){return function(e){return function(t){if(!function(e){if(!e)return!1;var t=e[i];return"undefined"!==typeof t&&!!t.promise}(t))return e(t);var r=t[i],n=r.types,a=r.promise,c=r.cb,u=Object(o.a)(r,["types","promise","cb"]),s=null===n||void 0===n?void 0:n.pending.type,l=null===n||void 0===n?void 0:n.fulfilled.type,d=null===n||void 0===n?void 0:n.rejected.type;return n&&e(function(e){var r=p(p({},t),e);return delete r[i],r}(p(p({},u),{},{type:s}))),a().then((function(t){return n&&e(p(p({},u),{},{payload:t,type:l})),c&&c(null,t),t})).catch((function(t){n&&e(p(p({},u),{},{error:t,type:d})),c&&c(t)}))}}}},VRBI:function(e,t,r){"use strict";var n=r("rePB"),o=r("Ff2n");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.a=function(e){return function(e){return function(t){if(!function(e){if(!e)return!1;var t=e.postProcess,r=e.payload;return!(!t||!r)}(t))return e(t);var r=t.postProcess,n=t.payload,a=Object(o.a)(t,["postProcess","payload"]);return e(p(p({},a),{},{payload:r?r(n):n}))}}}},"Wi2+":function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return p})),r.d(t,"c",(function(){return i}));var n=r("9wcz"),o=new(r.n(n).a),a=function(e){return"/courses/".concat(e)},p=function(e,t){return"/courses/".concat(e,"/").concat(o.encode(parseInt(t,10)))},i=function(e){return o.encode(parseInt(e,10))}},ZwUw:function(e,t,r){"use strict";var n=r("3Epe"),o=r("MF81"),a=r("BykT"),p=r("H3mV"),i=r("9JIs"),c=r("0t6C"),u=[a.a,i.b].map((function(e){return e.pending.type})),s=[p.b,a.a,a.a,i.b,c.b].map((function(e){return e.fulfilled.type})),l={};t.a=function(e){return function(t){return function(r){var d,f,x,b;if(u.includes(r.type)){l={compIds:null,authorId:null,userId:null,pageId:null,collectionId:null};var y=r.resetWidgetUserData;return(void 0===y||y)&&e.dispatch(o.f.reset()),t(r)}var g=e.getState();if(l.userId=null===g||void 0===g?void 0:null===(d=g.user)||void 0===d?void 0:null===(f=d.info)||void 0===f?void 0:null===(x=f.data)||void 0===x?void 0:x.user_id,!s.includes(r.type)||!l.userId)return t(r);if(r.type===c.b.fulfilled.type||r.type===p.b.fulfilled.type){if(!r.payload.components)return t(r);l.compIds=r.payload.components.map((function(e){return e.content.comp_id})).filter(Boolean)}return r.type===i.b.fulfilled.type&&(l.authorId=r.payload.author_id,l.pageId=r.payload.id),r.type===a.a.fulfilled.type&&(l.authorId=r.payload.author_id,l.collectionId=r.payload.collection_id,l.pageId=r.payload.page_id),(null===(b=l.compIds)||void 0===b?void 0:b.length)&&l.authorId&&l.userId&&l.pageId&&e.dispatch(Object(n.b)(l)),t(r)}}}},b4Jz:function(e,t,r){"use strict";r.d(t,"b",(function(){return d}));var n=r("viY9"),o=r("brck"),a=r("rePB"),p=r("RsOY"),i=r.n(p),c=r("TLF+");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var s,l={success:{light:"#DAEDE8",main:"#75E07A",dark:"#50b554",contrastText:"#ffffff"},secondary:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},c.c),utils:{loader:"#53ACFF"}},d={palette:{type:"light",accent1:c.a,accent2:c.b,accent3:c.c,accent4:c.d,alphas:c.e,error:c.f,external:c.g,gradient:c.h,grey:c.i,info:c.j,primary:c.k,secondary:c.l,subscription:c.m,success:c.n,utils:c.o,warning:c.p},shadows:["none","0px 16px 24px rgba(0, 0, 0, 0.02)","0px 16px 48px rgba(0, 0, 0, 0.06)","0px 0px 8px rgba(0, 0, 0, 0.24)","0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12)","0px 3px 5px -1px rgba(0,0,0,0.2),0px 5px 8px 0px rgba(0,0,0,0.14),0px 1px 14px 0px rgba(0,0,0,0.12)","0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)","0px 4px 5px -2px rgba(0,0,0,0.2),0px 7px 10px 1px rgba(0,0,0,0.14),0px 2px 16px 1px rgba(0,0,0,0.12)","0px 5px 5px -3px rgba(0,0,0,0.2),0px 8px 10px 1px rgba(0,0,0,0.14),0px 3px 14px 2px rgba(0,0,0,0.12)","0px 5px 6px -3px rgba(0,0,0,0.2),0px 9px 12px 1px rgba(0,0,0,0.14),0px 3px 16px 2px rgba(0,0,0,0.12)","0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)","0px 6px 7px -4px rgba(0,0,0,0.2),0px 11px 15px 1px rgba(0,0,0,0.14),0px 4px 20px 3px rgba(0,0,0,0.12)","0px 7px 8px -4px rgba(0,0,0,0.2),0px 12px 17px 2px rgba(0,0,0,0.14),0px 5px 22px 4px rgba(0,0,0,0.12)","0px 7px 8px -4px rgba(0,0,0,0.2),0px 13px 19px 2px rgba(0,0,0,0.14),0px 5px 24px 4px rgba(0,0,0,0.12)","0px 7px 9px -4px rgba(0,0,0,0.2),0px 14px 21px 2px rgba(0,0,0,0.14),0px 5px 26px 4px rgba(0,0,0,0.12)","0px 8px 9px -5px rgba(0,0,0,0.2),0px 15px 22px 2px rgba(0,0,0,0.14),0px 6px 28px 5px rgba(0,0,0,0.12)","0px 8px 10px -5px rgba(0,0,0,0.2),0px 16px 24px 2px rgba(0,0,0,0.14),0px 6px 30px 5px rgba(0,0,0,0.12)","0px 8px 11px -5px rgba(0,0,0,0.2),0px 17px 26px 2px rgba(0,0,0,0.14),0px 6px 32px 5px rgba(0,0,0,0.12)","0px 9px 11px -5px rgba(0,0,0,0.2),0px 18px 28px 2px rgba(0,0,0,0.14),0px 7px 34px 6px rgba(0,0,0,0.12)","0px 9px 12px -6px rgba(0,0,0,0.2),0px 19px 29px 2px rgba(0,0,0,0.14),0px 7px 36px 6px rgba(0,0,0,0.12)","0px 10px 13px -6px rgba(0,0,0,0.2),0px 20px 31px 3px rgba(0,0,0,0.14),0px 8px 38px 7px rgba(0,0,0,0.12)","0px 10px 13px -6px rgba(0,0,0,0.2),0px 21px 33px 3px rgba(0,0,0,0.14),0px 8px 40px 7px rgba(0,0,0,0.12)","0px 10px 14px -6px rgba(0,0,0,0.2),0px 22px 35px 3px rgba(0,0,0,0.14),0px 8px 42px 7px rgba(0,0,0,0.12)","0px 11px 14px -7px rgba(0,0,0,0.2),0px 23px 36px 3px rgba(0,0,0,0.14),0px 9px 44px 8px rgba(0,0,0,0.12)","0px 11px 15px -7px rgba(0,0,0,0.2),0px 24px 38px 3px rgba(0,0,0,0.14),0px 9px 46px 8px rgba(0,0,0,0.12)"],breakpoints:{values:{xs:320,sm:600,md:800,lg:1025,xl:1920}},overrides:{MuiTypography:{root:{margin:0},h1:{margin:0,textAlign:"center"}},MuiCardContent:{root:{padding:"8px"}},MuiCardActionArea:{root:{height:"100%",boxShadow:"0 0 10px ".concat(c.e.black03)},focusHighlight:{opacity:"0 !important"}},MuiTooltip:{tooltip:{fontSize:"12px"}},MuiSelect:{root:{fontSize:"15px"}},MuiMenuItem:{root:{fontSize:"15px"}},MuiInputBase:{root:{fontSize:"15px"}},MuiSvgIcon:{root:{fontSize:"2.4rem !important"}}},props:{MuiCardActionArea:{disableRipple:!0},MuiButtonGroup:{disableRipple:!0}},typography:{fontFamily:'"Nunito Sans", Verdana, Helvetica, sans-serif'}},f=Object(n.a)(d),x=Object(n.a)((s=d,i()(s,{palette:{secondary:{$merge:l.secondary},success:{$merge:l.success},utils:{$merge:l.utils}}})));t.a=function(e){return e&&Object(o.g)(e)?x:f}},brck:function(e,t,r){"use strict";r.d(t,"d",(function(){return n})),r.d(t,"e",(function(){return o})),r.d(t,"b",(function(){return a})),r.d(t,"h",(function(){return p})),r.d(t,"c",(function(){return i})),r.d(t,"i",(function(){return c})),r.d(t,"f",(function(){return u})),r.d(t,"g",(function(){return s})),r.d(t,"a",(function(){return l}));var n=function(e){var t=e.split("/"),r=t[t.length-1];return(e.startsWith("/collection/page")||e.startsWith("/courses/")&&t.length>3)&&"draft"!==r&&"versions"!==r},o=function(e){return/^\/?((shoteditor\/\d+\/preview)|(collection\/page\/(\d+\/){3}draft))\/?$/.test(e)},a=function(e){return/^\/?(collection\/(\d+\/){2}draft)\/?$/.test(e)},p=function(e){return/^\/?((shoteditor\/\d+)|(pageeditor(\/\d+){3}))\/?$/.test(e)},i=function(e){return e.indexOf("collectioneditor")>0},c=function(e){return e.indexOf("profile/edit")>0},u=function(e){return"/create-shot"===e||e.startsWith("/edpresso")||e.startsWith("/shoteditor/")},s=function(e){return"/business"===e||"/enterprise-admin"===e||e.startsWith("/blog/enterprise")},l=function(e){return e.indexOf("/assessmenteditor")>0||e.endsWith("/assessment")||e.startsWith("/assessment")}},jt9Z:function(e,t,r){"use strict";var n=r("rePB"),o=r("Ff2n"),a=r("fNkK"),p=r("As5v"),i=sessionStorage.getItem("demo");i||(sessionStorage.setItem("demo",JSON.stringify({summary:{commentsCount:0,description:"",title:"",tags:"",shareCount:0,likesCount:0,viewCount:0,author:"fahim",date:"Fri Jul 31 2015"},components:[{id:1438383993168,mode:"view",content:{root:{content:"2",left_child:{content:"1",left_child:null,fillcolor:"#caff70",color:"#caff70",id:"node_1438383937235",right_child:null,shape:"Mrecord"},fillcolor:"#caff70",color:"#caff70",id:"node_1438383937234",right_child:{content:"3",left_child:null,fillcolor:"#caff70",color:"#caff70",id:"node_1438383937236",right_child:null,shape:"Mrecord"},shape:"Mrecord"},caption:"",version:"1.0"},type:"BinaryTree"}]})),i=sessionStorage.getItem("demo"));var c=[{isMyRequest:function(e){return-1!==e.url.indexOf("fakeUploadUrl")&&"POST"===e.type},response:function(e){return JSON.stringify({image_id:1,file_name:"coverImage"})}},{isMyRequest:function(e){return-1!==e.url.indexOf("image/upload/url")&&"GET"===e.type},response:function(e){return JSON.stringify({image_id:1,page_id:5207287069147136,upload_url:"fakeUploadUrl"})}},{isMyRequest:function(e){return"/api/user/info"===e.url&&"GET"===e.type},response:function(){return JSON.stringify({user_id:null,email:"test@test.com",full_name:"Educative Author",user_name:null,isDemo:!0})}},{isMyRequest:function(e){return 0===e.url.indexOf("/api/author/page/")&&"PUT"===e.type},action:function(e){var t=e.data,r=JSON.parse(Object(p.inflate)(t,{to:"string",level:9})).page_content;sessionStorage.setItem("demo",r)},response:function(){return""}},{isMyRequest:function(e){return 0===e.url.indexOf("/api/author/page/")&&"GET"===e.type},response:function(){return JSON.parse(sessionStorage.getItem("demo"))}},{isMyRequest:function(e){return 0===e.url.indexOf("/api/author/profile")&&"GET"===e.type},response:function(){return JSON.stringify({facebook:null,short_bio:null,cover_image_id:null,full_name:"Educative Author",profile_image_id:null,linkedin:null,twitter:null,github:null,full_bio:null,website:null})}}],u=function(e){return new Promise((function(t,r){var n=c.find((function(t){return t.isMyRequest(e)}));n||(console.log(e),new Error("Expected some reaction from fake server"),r()),n.action&&n.action(e),t(n.response(e))}))},s=r("4E7A"),l=r("BNIU"),d=r("N+2e"),f=r("Vgjn"),x=r("SuWi");function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.a=function(e){return function(t){return function(r){if(!function(e){if(!e)return!1;var t=e.AJAX_CALL;if("undefined"===typeof t)return!1;var r=t.url,n=t.type;return!(!r||!n)}(r))return t(r);var p=r.AJAX_CALL,i=p.url,c=p.type,b=p.getHeaders,g=p.data,O=p.processData,v=p.contentType,m=p.overrideAjaxMode,j=p.isDemo,h=Object(o.a)(p,["url","type","getHeaders","data","processData","contentType","overrideAjaxMode","isDemo"]),P=e.getState().ajaxMode.enabled,w=j||!P&&!m?u:a.a;return t(Object(n.a)({},x.a,y(y({},h),{},{promise:function(){return w({url:i,type:c,data:g,processData:O,contentType:v},b).then((function(t){return b&&t.xhr&&"p"===i[12]?e.dispatch(s.a.updateETag(t.xhr.headers.get(f.a))):b&&t.xhr&&i.includes("page/editor")?e.dispatch(d.b.updateETag(t.xhr.headers.get(f.a))):b&&t.xhr&&e.dispatch(l.a.updateETag(t.xhr.headers.get(f.a))),t}))}})))}}}},mSIx:function(e,t,r){"use strict";r.d(t,"b",(function(){return y})),r.d(t,"a",(function(){return g}));var n=r("KQm4"),o=r("rePB"),a=r("o0o1"),p=r.n(a),i=r("HaE+"),c=r("wSl+"),u=r("fNkK"),s=r("fDKo");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){Object(o.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(e){var t=e.shotId,r=e.authorId,n=e.collectionId,o=e.editorPageId;return t?"UserShotAPIKeys_".concat(t):o?"UserBlogAPIKeys_".concat(o):"UserCollectionAPIKeys_".concat(r,"_").concat(n)},x=function(e){return Object(u.a)({url:"/api/userdata/map/".concat(e),type:"GET"})},b=function(e){var t=e.mapName,r=e.keys,n=e.isDelete,o=void 0!==n&&n?"userdata/map/".concat(t,"/delete"):"userdata/map/".concat(t),a={map_key_val:JSON.stringify(r)};return Object(u.a)({url:"/api/".concat(o),type:"POST",contentType:"application/json",processData:!1,data:Object(c.deflate)(JSON.stringify(a),{level:9}),headers:{"Content-Encoding":"deflate"}})},y=function(e,t,r,n){return function(){var o=Object(i.a)(p.a.mark((function o(a){var i;return p.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,a(s.b.saveRequest());case 3:if(i=f(e),n){o.next=7;break}return o.next=7,b({mapName:i,keys:t});case 7:return o.next=9,a(s.b.saveSuccess({keys:t,action:r}));case 9:o.next=15;break;case 11:return o.prev=11,o.t0=o.catch(0),o.next=15,a(s.b.saveFailure());case 15:case"end":return o.stop()}}),o,null,[[0,11]])})));return function(e){return o.apply(this,arguments)}}()},g=function(e){var t=e.params,r=e.apiKeys,o=e.envKeys;return(function(){var e=Object(i.a)(p.a.mark((function e(a){var i,c,u,l,y;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a(s.b.pending());case 3:return e.next=5,x(f(t));case 5:if(i=e.sent,c=JSON.parse(i),u={},l=d({},c),[].concat(Object(n.a)(o),Object(n.a)(r)).forEach((function(e){e.id in c&&(u[e.id]=c[e.id],delete l[e.id])})),y=f(t),!Object.keys(l).length){e.next=14;break}return e.next=14,b({mapName:y,keys:l,isDelete:!0});case 14:return e.next=16,a(s.b.fulfilled({keys:d({},u)}));case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(0),e.next=22,a(s.b.rejected());case 22:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t){return e.apply(this,arguments)}}())}},vIBk:function(e,t,r){"use strict";var n=r("rePB"),o=r("mSIx"),a=r("9dyO"),p=r("fDKo"),i=r("dU21"),c=r("H3mV"),u=r("BykT"),s=r("BNIU"),l=r("RsOY"),d=r.n(l),f=r("N+2e"),x=r("+ylz");function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g=[],O=[],v={},m=!1,j=[];t.a=function(e){return function(t){return function(r){var l,b,h,P,w,S,I,_,k,D,E;if(r.type===a.a.reset.type||r.type===i.b.clear.type||r.type===f.b.clear.type||r.type===x.b.clear.type)return v={},m=!1,e.dispatch(p.b.reset()),t(r);if(r.type===a.a.set.type)return g=null===r||void 0===r?void 0:null===(b=r.payload)||void 0===b?void 0:null===(h=b.instance)||void 0===h?void 0:null===(P=h.details)||void 0===P?void 0:P.api_keys,O=null===r||void 0===r?void 0:null===(w=r.payload)||void 0===w?void 0:null===(S=w.instance)||void 0===S?void 0:null===(I=S.details)||void 0===I?void 0:null===(_=I.docker)||void 0===_?void 0:_.envs,t(r);r.type===i.b.fulfilled.type&&(v.shotId=r.payload.shotId,O=null===r||void 0===r?void 0:null===(k=r.payload)||void 0===k?void 0:null===(D=k.docker)||void 0===D?void 0:D.envs);[f.b.fulfilled.type,x.b.fulfilled.type].includes(r.type)&&(v.editorPageId=r.payload.marketing_page_id,g=JSON.parse((null===(E=r.payload)||void 0===E?void 0:E.api_keys)||"[]"));if((!g||!g.length)&&(!O||!O.length))return t(r);if(r.type===p.b.fulfilled.type&&(m=!0),![c.b,u.a,s.a,i.b,f.b,x.b].map((function(e){return e.fulfilled.type})).includes(r.type))return t(r);if([s.a,c.b,i.b,f.b,x.b].map((function(e){return e.fulfilled.type})).includes(r.type)){if(!r.payload.components&&!r.payload.content&&!r.payload.marketing_page_content)return t(r);var N=r.payload.components||r.payload.content||r.payload.marketing_page_content;j=N.map((function(e){var t=e;if(["Code","WebpackBin","RunJS","TerminalWidget","TabbedCode"].includes(t.type))if("TabbedCode"===t.type){var r,o,a=(null===(r=t)||void 0===r?void 0:null===(o=r.content)||void 0===o?void 0:o.codeContents)||{};a.forEach((function(e,t){var r=(null===e||void 0===e?void 0:e.selectedApiKeys)||{},o=g.reduce((function(e,t){return t.id in r?y(y({},e),{},Object(n.a)({},t.id,r[t.id])):e}),{});a=d()(a,Object(n.a)({},t,{selectedApiKeys:{$set:o}}))})),t=d()(t,{content:{codeContents:{$set:a}}})}else{var p,i,c=(null===(p=t)||void 0===p?void 0:null===(i=p.content)||void 0===i?void 0:i.selectedApiKeys)||{},u=g.reduce((function(e,t){return t.id in c?y(y({},e),{},Object(n.a)({},t.id,c[t.id])):e}),{});t=d()(t,{content:{selectedApiKeys:{$set:u}}})}return t}))}return r.type!==c.b.fulfilled.type&&r.type!==s.a.fulfilled.type||(v.compIds=r.payload.components.map((function(e){return e.content.comp_id})).filter(Boolean)),r.type===i.b.fulfilled.type&&(v.compIds=r.payload.content.map((function(e){return e.content.comp_id})).filter(Boolean)),[f.b.fulfilled.type,x.b.fulfilled.type].includes(r.type)&&(v.compIds=r.payload.marketing_page_content.map((function(e){return e.content.comp_id})).filter(Boolean)),r.type===u.a.fulfilled.type&&(v.authorId=r.payload.author_id,v.collectionId=r.payload.collection_id),(null===(l=v.compIds)||void 0===l?void 0:l.length)&&(v.authorId&&v.collectionId||v.shotId||v.editorPageId)&&!m&&e.dispatch(Object(o.a)({params:v,apiKeys:g,envKeys:O})),r.payload.components?t(y(y({},r),{},{payload:y(y({},r.payload),{},{components:j})})):t(r)}}}},zEHM:function(e,t,r){"use strict";(function(e){var n=r("KQm4"),o=r("i7Pf"),a=r("PvLm"),p=r("SuWi"),i=r("396a"),c=r("MCbV"),u=r("VRBI"),s=r("jt9Z"),l=r("ZwUw"),d=r("StAi"),f=r("vIBk"),x=[].concat(Object(n.a)(Object(o.d)({serializableCheck:{ignoredActions:["widgets/updateContentState"]}})),[i.b,s.a,p.b,u.a,c.a,l.a,d.a,f.a]),b=Object(o.a)({reducer:a.a,middleware:x,devTools:!1});e.store=b,t.a=b}).call(this,r("yLpj"))}}]);
//# sourceMappingURL=b401c41330442e47e10eb23f1a82e7f56b76455e.aafc9862af8f6fd96659.js.map